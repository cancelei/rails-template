<% provide(:page_title, "Edit #{@guide_profile.user.name}") %>

<%= turbo_frame_tag dom_id(@guide_profile, :profile) do %>
  <div class="card mb-8">
    <div class="card-body">
      <h2 class="text-2xl font-bold text-foreground mb-6">Edit Guide Profile</h2>

      <%= form_with model: @guide_profile, url: admin_guide_profile_path(@guide_profile), method: :patch, data: { turbo_frame: dom_id(@guide_profile, :profile) } do |f| %>
        <div class="space-y-6">
          <div class="form-group">
            <%= f.label :bio, class: "form-label" %>
            <%= f.text_area :bio, rows: 5, class: "form-input", placeholder: "Guide's bio..." %>
            <p class="text-xs text-muted-foreground mt-1">Maximum 1000 characters</p>
            <% if @guide_profile.errors[:bio].any? %>
              <p class="text-red-500 text-sm mt-1"><%= @guide_profile.errors[:bio].first %></p>
            <% end %>
          </div>

          <div class="form-group">
            <%= f.label :languages, "Languages Spoken", class: "form-label" %>
            <%= f.text_field :languages, class: "form-input", placeholder: "e.g., English, Spanish, French" %>
            <p class="text-xs text-muted-foreground mt-1">Comma-separated list</p>
            <% if @guide_profile.errors[:languages].any? %>
              <p class="text-red-500 text-sm mt-1"><%= @guide_profile.errors[:languages].first %></p>
            <% end %>
          </div>

          <% if @guide_profile.respond_to?(:years_of_experience) %>
            <div class="form-group">
              <%= f.label :years_of_experience, class: "form-label" %>
              <%= f.number_field :years_of_experience, class: "form-input", min: 0, placeholder: "0" %>
              <% if @guide_profile.errors[:years_of_experience].any? %>
                <p class="text-red-500 text-sm mt-1"><%= @guide_profile.errors[:years_of_experience].first %></p>
              <% end %>
            </div>
          <% end %>

          <% if @guide_profile.respond_to?(:certifications) %>
            <div class="form-group">
              <%= f.label :certifications, class: "form-label" %>
              <%= f.text_area :certifications, rows: 3, class: "form-input", placeholder: "List certifications..." %>
              <% if @guide_profile.errors[:certifications].any? %>
                <p class="text-red-500 text-sm mt-1"><%= @guide_profile.errors[:certifications].first %></p>
              <% end %>
            </div>
          <% end %>

          <div class="flex gap-3">
            <%= f.submit "Save Changes", class: "btn-booking" %>
            <%= link_to "Cancel",
                        admin_guide_profile_path(@guide_profile),
                        class: "btn-booking-secondary",
                        data: { turbo_frame: dom_id(@guide_profile, :profile) } %>
          </div>
        </div>
      <% end %>
    </div>
  </div>
<% end %>
