<%# locals: (booking:) %>
<%= turbo_frame_tag dom_id(booking), target: "_top" do %>
<tr id="<%= dom_id(booking) %>_row">
  <td class="px-4 sm:px-6 py-4">
    <div class="text-sm font-medium text-foreground"><%= booking.tour.title %></div>
    <div class="text-sm text-muted-foreground"><%= booking.tour.location_name %></div>
  </td>
  <td class="px-4 sm:px-6 py-4 whitespace-nowrap">
    <div class="text-sm text-foreground"><%= booking.user.name %></div>
    <div class="text-sm text-muted-foreground"><%= booking.user.email %></div>
  </td>
  <td class="px-4 sm:px-6 py-4 whitespace-nowrap">
    <% badge_color = case booking.status
                     when "pending" then "bg-warning/20 text-warning"
                     when "confirmed" then "bg-info/20 text-info"
                     when "completed" then "bg-success/20 text-success"
                     when "cancelled" then "bg-danger/20 text-danger"
                     else "bg-muted text-muted-foreground"
                     end %>
    <span class="px-2 inline-flex text-xs leading-5 font-semibold rounded-full <%= badge_color %>">
      <%= booking.status.titleize %>
    </span>
  </td>
  <td class="px-4 sm:px-6 py-4 whitespace-nowrap text-sm text-muted-foreground">
    <%= booking.created_at.strftime("%b %d, %Y") %>
  </td>
  <td class="px-4 sm:px-6 py-4 whitespace-nowrap text-right text-sm font-medium">
    <%= link_to "Edit",
                edit_admin_booking_path(booking),
                class: "text-primary hover:text-opacity-80 mr-4",
                data: { turbo_frame: dom_id(booking), action: "click->loading-state#showLoading" } %>
    <%= button_to "Delete",
                  admin_booking_path(booking),
                  method: :delete,
                  form: { data: { turbo_confirm: "Are you sure you want to delete this booking?" } },
                  class: "text-danger hover:text-opacity-80" %>
  </td>
</tr>
<% end %>
